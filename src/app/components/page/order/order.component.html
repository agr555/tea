<section class="order bg-body-tertiary">
  <div class="container">
    <div class="modal-dialog modal-md  text-black" style="max-width: 650px">
      <div class="modal-content  ">
        <div class="modal-header fw-bold fs-2 justify-content-center py-4 px-xl-5 ">
          Сделать заказ
        </div>
        <div class="modal-body p-3">
          <form class="row g-4 needs-validation  p-2  justify-content-between" id="formOrder"
                novalidate [formGroup]="checkoutForm" #siForm="ngForm">
            <div class="col-md-12 ">
              <label for="validationCustom01" class="form-label ">Товар</label>
              <input type="text" class="form-control  p-1" id="validationCustom01"
                     value="{{formValues.productTitle}}" disabled>
              <!--<div class="invalid-feedback" *ngIf="checkoutForm.get('product')?.invalid
                && checkoutForm.get('product')?.errors?.['required']">
                Товар не добавлен в корзину!
              </div>-->
            </div>
            <!--       <div>{{ttt}}</div>
                   modalText-->
            <div class="col-md-4 ">
              <label for="name" class="form-label ">Имя</label>
              <input type="text" class="form-control  p-1" id="name"
                     [(ngModel)]="formValues.name" formControlName="name">
              <div class="invalid-feedback" *ngIf="checkoutForm.get('name')?.invalid
                && (checkoutForm.get('name')?.touched || checkoutForm.get('name')?.dirty)
                && checkoutForm.get('name')?.errors?.['required']">
                Введите имя.
              </div>
              <div class="invalid-feedback"
                   *ngIf="checkoutForm.get('name')?.errors?.['pattern']">
                Имя должно содержать только буквы.
              </div>
            </div>

            <div class="col-md-4 ">
              <label for="validationCustom03" class="form-label ">Фамилия</label>
              <input type="text" class="form-control  p-1 " id="validationCustom03" required
                     [(ngModel)]="formValues.last_name" formControlName="last_name">
              <div class="invalid-feedback" *ngIf="checkoutForm.get('last_name')?.invalid
                && (checkoutForm.get('last_name')?.touched || checkoutForm.get('last_name')?.dirty)
                && checkoutForm.get('last_name')?.errors?.['required']">
                Введите фамилию.
              </div>
              <div class="invalid-feedback"
                   *ngIf="checkoutForm.get('last_name')?.errors?.['pattern']">
                Фамилия должна содержать только буквы.
              </div>
            </div>

            <div class="col-md-4  ">
              <label for="validationCustom04" class="form-label ">Телефон</label>
              <input type="text" class="form-control  p-1 " id="validationCustom04"
                     [(ngModel)]="formValues.phone" formControlName="phone">
              <div class="invalid-feedback" *ngIf="checkoutForm.get('phone')?.invalid
                && (checkoutForm.get('phone')?.touched || checkoutForm.get('phone')?.dirty)
                && checkoutForm.get('phone')?.errors?.['required']">
                Введите телефон.
              </div>
              <div class="invalid-feedback"
                   *ngIf="checkoutForm.get('phone')?.errors?.['pattern']">
                Введите телефон в формате +ХХХХХХХХХХХ
              </div>
            </div>

            <div class="col-md-6">
              <label for="validationCustom05" class="form-label ">Страна</label>
              <input type="text" class="form-control  p-1 " id="validationCustom05"
                     [(ngModel)]="formValues.country" formControlName="country">
              <div class="invalid-feedback" *ngIf="checkoutForm.get('country')?.invalid
                && (checkoutForm.get('country')?.touched || checkoutForm.get('country')?.dirty)
                && checkoutForm.get('country')?.errors?.['required']">
                Укажите страну.
              </div>
            </div>

            <div class="col-md-6">
              <label for="validationCustom06" class="form-label ">Индекс</label>
              <input type="text" class="form-control  p-1 " id="validationCustom06"
                     [(ngModel)]="formValues.zip" formControlName="zip">
              <div class="invalid-feedback" *ngIf="checkoutForm.get('zip')?.invalid
                && (checkoutForm.get('zip')?.touched || checkoutForm.get('zip')?.dirty)
                && checkoutForm.get('zip')?.errors?.['required']">
                Введите индекс.
              </div>
            </div>

            <div class="col-md-12">
              <label for="validationCustom07" class="form-label ">Адрес</label>
              <input type="text" class="form-control  p-1 " id="validationCustom07"
                     [(ngModel)]="formValues.address" formControlName="address">

              <div class="w-100 invalid-feedback" *ngIf="checkoutForm.get('address')?.invalid
                && (checkoutForm.get('address')?.touched || checkoutForm.get('address')?.dirty)
                && checkoutForm.get('address')?.errors?.['required']">
                Введите адрес.
              </div>

              <div class="invalid-feedback"
                   *ngIf="checkoutForm.get('address')?.errors?.['pattern']">
                Адрес может содержать только буквы, цифры, пробел, слеш и дефис.
              </div>
            </div>

            <div class="col-md-12">
              <label for="validationCustom08" class="form-label ">Комментарий к заказу</label>
              <input type="text" class="form-control  p-1 " id="validationCustom08"
                     [(ngModel)]="formValues.comment" formControlName="comment">
            </div>
            <div class="col  justify-content-between">
              <button class="btn btn-primary py-2 px-4 border rounded-1" [disabled]="siForm.invalid"
                      (click)="createOrder()">Купить
              </button>

              <!-- Button trigger modal -->
              <!--              <button class="btn btn-primary py-2 px-4 border rounded-1"  (click)="showModal()" >открой popup</button>-->

              <div class="errorOrder text-danger mt-2" id="errorOrder">Произошла ошибка. Попробуйте еще раз.</div>
            </div>
          </form>
        </div>

      </div>

    </div>
  </div>
</section>

<!-- Modal for see Thanks for order -->
<div class="modal" id="modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <!--        <h5 class="modal-title text-center">Спасибо за заказ!</h5>-->
        <h5 class="modal-title text-center">{{modalService.modalText}}</h5>

        <button type="button" class="btn-close" (click)='modalService.hideModalAll("modal",true)'></button>
      </div>
      <!--      <div class="modal-body">
              <p>Посмотрите наши чайные коллекции</p>
            </div>-->
      <div class="modal-footer">
        <button type="button" class="btn btn-primary text-center" (click)='modalService.hideModalAll("modal",true)'>Вернуться на
          главную страницу
        </button>
      </div>
    </div>
  </div>
</div>

<!--<form class="needs-validation container" novalidate [formGroup]="checkoutForm">
  <div class="row g-3">
    <div class="col-sm-6">
      <label for="firstName" class="form-label">First name</label>
      <input type="text" class="form-control" id="firstName" placeholder="" value=""
             formControlName="firstName">
      <div class="invalid-feedback" *ngIf="checkoutForm.get('firstName')?.invalid
                && (checkoutForm.get('firstName')?.touched || checkoutForm.get('firstName')?.dirty)
                && checkoutForm.get('firstName')?.errors?.['required']">
        Valid first name is required.
      </div>
    </div>

    <div class="col-sm-6">
      <label for="lastName" class="form-label">Last name</label>
      <input type="text" class="form-control" id="lastName" placeholder="" value=""
             formControlName="lastName">
      <div class="invalid-feedback" *ngIf="checkoutForm.get('lastName')?.invalid
                && (checkoutForm.get('lastName')?.touched || checkoutForm.get('lastName')?.dirty)
                && checkoutForm.get('lastName')?.errors?.['required']">
        Valid last name is required.
      </div>
    </div>

    <div class="col-12">
      <label for="username" class="form-label">Username</label>
      <div class="input-group has-validation">
        <span class="input-group-text">@</span>
        <input type="text" class="form-control" id="username" placeholder="Username"
               formControlName="username">
        <div class="w-100"
             *ngIf="checkoutForm.get('username')?.invalid  && (checkoutForm.get('username')?.touched || checkoutForm.get('username')?.dirty)">
          <div class="invalid-feedback"
               *ngIf="checkoutForm.get('username')?.errors?.['required']">
            Your username is required.
          </div>
          <div class="invalid-feedback"
               *ngIf="checkoutForm.get('username')?.errors?.['pattern']">
            Username must contain only letters.
          </div>
        </div>
      </div>
    </div>

    <div class="col-12">
      <label for="email" class="form-label">Email <span
        class="text-body-secondary">(Optional)</span></label>
      <input type="email" class="form-control" id="email" placeholder="you@example.com"
             formControlName="email">
      <div class="invalid-feedback" *ngIf="checkoutForm.get('email')?.invalid
                && (checkoutForm.get('email')?.touched || checkoutForm.get('email')?.dirty)
                && checkoutForm.get('email')?.errors?.['email']">
        Please enter a valid email address for shipping updates.
      </div>
    </div>

    <div class="col-12">
      <label for="address" class="form-label">Address</label>
      <input type="text" class="form-control" id="address" placeholder="1234 Main St"
             formControlName="address">
      <div class="w-100"
           *ngIf="checkoutForm.get('address')?.invalid  && (checkoutForm.get('address')?.touched || checkoutForm.get('address')?.dirty)">
        <div class="invalid-feedback" *ngIf="checkoutForm.get('address')?.errors?.['required']">
          Please enter your shipping address.
        </div>
        <div class="invalid-feedback"
             *ngIf="checkoutForm.get('address')?.errors?.['minlength']">
          Address must contain at least 10 characters!.
        </div>
      </div>
    </div>
  </div>

  <div class="col-12">
    <label for="address2" class="form-label">Address 2 <span
      class="text-body-secondary">(Optional)</span></label>
    <input type="text" class="form-control" id="address2" placeholder="Apartment or suite"
           formControlName="addressSecond">
  </div>

  <div class="col-md-5">
    <label for="country" class="form-label">Country</label>
    <select class="form-select" id="country" formControlName="country">
      <option value="">Choose...</option>
      <option>United States</option>
    </select>
    <div class="invalid-feedback" *ngIf="checkoutForm.get('country')?.invalid
                && (checkoutForm.get('country')?.touched || checkoutForm.get('country')?.dirty)
                && checkoutForm.get('country')?.errors?.['required']">
      Please select a valid country.
    </div>
  </div>

  <div class="col-md-4">
    <label for="state" class="form-label">State</label>
    <select class="form-select" id="state" formControlName="state">
      <option value="">Choose...</option>
      <option>California</option>
    </select>
    <div class="invalid-feedback" *ngIf="checkoutForm.get('state')?.invalid
                && (checkoutForm.get('state')?.touched || checkoutForm.get('state')?.dirty)
                && checkoutForm.get('state')?.errors?.['required']">
      Please provide a valid state.
    </div>
  </div>

  <div class="col-md-3">
    <label for="zip" class="form-label">Zip</label>
    <input type="text" class="form-control" id="zip" placeholder="" formControlName="zip">
    <div class="invalid-feedback" *ngIf="checkoutForm.get('zip')?.invalid
                && (checkoutForm.get('zip')?.touched || checkoutForm.get('zip')?.dirty)
                && checkoutForm.get('zip')?.errors?.['required']">
      Zip code required.
    </div>
  </div>

  <hr class="my-4">

  <div class="form-check">
    <input type="checkbox" class="form-check-input" id="same-address" formControlName="saveAddress">
    <label class="form-check-label" for="same-address">Shipping address is the same as my billing
      address</label>
  </div>

  <div class="form-check">
    <input type="checkbox" class="form-check-input" id="save-info" formControlName="saveInfo">
    <label class="form-check-label" for="save-info">Save this information for next time</label>
  </div>

  <hr class="my-4">



  <button class="w-100 btn btn-primary btn-lg" type="submit">Continue to checkout</button>
</form>-->
