"use strict";(self.webpackChunkteaCollection=self.webpackChunkteaCollection||[]).push([[835],{7835:(w,g,n)=>{n.r(g),n.d(g,{ProductsModule:()=>q});var a=n(6895),u=n(646);function m(r,i,e,o,c,s,d){try{var l=r[s](d),p=l.value}catch(R){return void e(R)}l.done?i(p):Promise.resolve(p).then(o,c)}var P=n(7579),t=n(8256),h=n(773),f=n(5610),b=n(529);let y=(()=>{class r{transform(e){return e.length>95?e.slice(0,80)+"<...>":e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=t.Yjl({name:"shorterPipe",type:r,pure:!0}),r})();const Z=function(r){return["/products",r]};let C=(()=>{class r{constructor(e,o){this.finderService=e,this.productService=o,this.product={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.K),t.Y36(h.M))},r.\u0275cmp=t.Xpm({type:r,selectors:[["product-card"]],inputs:{product:"product"},decls:12,vars:9,consts:[[1,"product","col","d-flex","justify-content-center"],[1,"card",2,"width","26rem"],["title","",1,"card-image","d-flex","justify-content-center","align-content-center","image-popup-vertical-fit",3,"href"],["alt","Card 1",1,"card-img-top",2,"width","140px","height","140px",3,"src"],[1,"card-body","pt-0"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"h5",5),t._uU(6),t.qZA(),t.TgZ(7,"p",6),t._uU(8),t.ALo(9,"shorterPipe"),t.qZA(),t.TgZ(10,"button",7),t._uU(11,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()),2&e&&(t.xp6(2),t.s9C("href",o.product.image,t.LSH),t.xp6(1),t.s9C("src",o.product.image,t.LSH),t.xp6(3),t.Oqu(o.product.title),t.xp6(2),t.Oqu(t.lcZ(9,5,o.product.description)),t.xp6(2),t.Q6J("routerLink",t.VKq(7,Z,o.product.id)))},dependencies:[u.rH,y]}),r})();function A(r,i){1&r&&t._UZ(0,"product-card",7),2&r&&t.Q6J("product",i.$implicit)}function T(r,i){1&r&&(t.TgZ(0,"div",8),t._UZ(1,"div",9),t.qZA())}let x=(()=>{class r{constructor(e,o,c,s,d){this.productService=e,this.finderService=o,this.http=c,this.router=s,this.route=d,this.destroy$=new P.x,this.titleStr=null,this.products=[],this.loading=!1,this.subscrProducts=null,this.findStr=null,this.inputStr1=null,this.search="",this.subscrLoader=null,this.subscrActivate=null,this.subscrDeactivate=null,this.inputStr="",this.titlePage="",this.product={id:0,image:"",title:"",price:0,description:""},this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){this.getRouteData(),this.subscrProducts=this.productService.products.subscribe(e=>{this.products=e}),this.titlePage="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}getRouteData(){var e=this;return function S(r){return function(){var i=this,e=arguments;return new Promise(function(o,c){var s=r.apply(i,e);function d(p){m(s,o,c,d,l,"next",p)}function l(p){m(s,o,c,d,l,"throw",p)}d(void 0)})}}(function*(){e.findStr=document.getElementById("findStr"),e.inputStr=document.getElementById("findStr").value,e.titleStr=document.getElementById("title-page"),e.subscrLoader=e.productService.loading.subscribe(o=>{e.loading=o}),e.subscrActivate=e.productService.userActivated.subscribe(o=>{o&&""!==o&&null!==o&&(e.titlePage="\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443:  "+o,console.log("\u043d\u0430\u0436\u0430\u0442 \u043f\u043e\u0438\u0441\u043a \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443(\u043f\u043e\u0438\u0441\u043a):  "+o),e.titleStr&&(e.titleStr.innerHTML=e.titlePage))}),e.subscrDeactivate=e.productService.userDeactivated.subscribe(o=>{e.titlePage="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438",console.log("\u043d\u0430\u0436\u0430\u0442 \u0441\u0431\u0440\u043e\u0441 \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"),e.titleStr&&(e.titleStr.innerHTML=e.titlePage)}),e.inputStr&&""!=e.inputStr&&null!==e.inputStr?(yield e.productService.getProducts(e.inputStr),e.titlePage="\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 c \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b:"+e.inputStr,console.log("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0441 \u043f\u043e\u0438\u0441\u043a\u043e\u043c \u0441 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b")):(yield e.productService.getProducts(),console.log("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0432\u0441\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"))})()}ngOnDestroy(){this.destroy$.complete(),this.subscrProducts?.unsubscribe(),this.subscrLoader?.unsubscribe(),this.subscrActivate?.unsubscribe(),this.subscrDeactivate?.unsubscribe(),console.log("unsubscribe: products"),this.inputStr1=document.getElementById("findStr"),this.inputStr1&&""!==this.inputStr1.value&&null!==this.inputStr1.value&&(this.inputStr1.value="")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(h.M),t.Y36(f.K),t.Y36(b.eN),t.Y36(u.F0),t.Y36(u.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["products"]],inputs:{product:"product"},decls:8,vars:3,consts:[["id","products",1,"cards"],[1,"container"],[1,"row","py-lg-4"],["id","title-page",1,"fw-bold","fs-2","text-center"],[1,"album","py-4","row","row-cols-1","row-cols-md-2","row-cols-xl-3","g-3"],[3,"product",4,"ngFor","ngForOf"],["class","loader-bg",4,"ngIf"],[3,"product"],[1,"loader-bg"],[1,"loader"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,A,1,1,"product-card",5),t.qZA(),t.YNc(7,T,2,0,"div",6),t.qZA()()),2&e&&(t.xp6(4),t.Oqu(o.titlePage),t.xp6(2),t.Q6J("ngForOf",o.products),t.xp6(1),t.Q6J("ngIf",o.loading))},dependencies:[a.sg,a.O5,C]}),r})();var F=n(5577),M=n(9646),O=n(9837);const Y=function(r){return{product:r}},L=[{path:"",component:x},{path:":id",component:(()=>{class r{constructor(e,o,c,s){this.activatedRoute=e,this.productService=o,this.router=c,this.modalService=s,this.subscription=null,this.subscriptionFind=null,this.findStr=null,this.product={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){this.subscription=this.activatedRoute.params.pipe((0,F.z)(e=>e.id?this.productService.getProduct(+e.id):(0,M.of)(null))).subscribe({next:e=>{e&&(this.product=e,console.log(e))},error:()=>{this.router.navigate(["/"])}})}ngOnDestroy(){this.subscription?.unsubscribe(),console.log("unsubscript: product")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(u.gz),t.Y36(h.M),t.Y36(u.F0),t.Y36(O.FF))},r.\u0275cmp=t.Xpm({type:r,selectors:[["product"]],decls:18,vars:12,consts:[[1,"product"],[1,"container","position-relative"],[1,"products-title-block","d-flex","justify-content-between","px-5"],[1,""],["id","products-title",1,"products-title"],["id","products-price",1,"products-price"],[1,"product-action"],["elem",""],["routerLink","/order",1,"btn","btn-add-to-cart","btn-primary",3,"queryParams"],[1,"product-item","p-5"],[1,"product-text"],[1,"product-image"],[1,"w-100",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.qZA(),t.TgZ(6,"h2",5),t._uU(7),t.ALo(8,"currency"),t.qZA()(),t.TgZ(9,"div",6,7)(11,"button",8),t._uU(12,"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 "),t.qZA()()(),t.TgZ(13,"div",9)(14,"div",10),t._uU(15),t.qZA(),t.TgZ(16,"div",11),t._UZ(17,"img",12),t.qZA()()()()),2&e&&(t.xp6(5),t.Oqu(o.product.title),t.xp6(2),t.Oqu(t.gM2(8,5,o.product.price,"RUB","symbol","1.0-0")),t.xp6(4),t.Q6J("queryParams",t.VKq(10,Y,o.product.title)),t.xp6(4),t.Oqu(o.product.description),t.xp6(2),t.s9C("src",o.product.image,t.LSH))},dependencies:[u.rH,a.H9]}),r})()}];let v=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.Bz.forChild(L),u.Bz]}),r})();var U=n(4466);let q=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[a.ez,U.m,u.Bz,v,v]}),r})()}}]);